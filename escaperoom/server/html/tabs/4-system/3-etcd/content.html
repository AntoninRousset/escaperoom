<link rel='stylesheet' type='text/css' href='interface/styles/monitor.css'>
<link rel='stylesheet' type='text/css' href='interface/styles/tree.css'>
<link rel='stylesheet' type='text/css' href='interface/styles/stamp.css'>

<style>

.etcdnav {
  display: flex;
  flex-flow: row nowrap;
}

.etcdnav > * {
  max-height: 400px;
  overflow-y: scroll;
  scrollbar-width: thin;
  scrollbar-color: var(--light-gray) white; 
}

.etcdnav > *:first-child {
  margin-right: 16px;
}

.etcdtree {
  flex: 3;
}

.etcdtree .screen[name='loading'] {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
}

.stamp[type='ghost'] {
  display: none;
}

.etcdtree .row.ghost > div:not(.children) {
  color: gray;
}

.etcdtree .row.ghost > div:not(.children) .stamp[type='ghost'] {
  display: block;
}

.etcdtree .row .stamp[type='ghost'] svg {
  fill: var(--light-gray);
}

.etcdtree .row .stamp[type='plus'] {
  visibility: hidden;
}

.etcdtree .row .stamp[type='plus'] svg {
  fill: var(--light-gray);
}

.etcdtree .row > div:not(.children):hover .stamp[type='plus'] svg {
  visibility: visible;
}

.etcdtree .row .stamp[type='plus']:hover svg {
  fill: var(--gray);
}

.etcdinspector {
  flex: 2;
  min-width: 100px;
  padding: 6px;
}

.etcdinspector[screen='empty'] {
  display: flex;
  flex-flow: column nowrap;
  align-items: center;
  justify-content: center;
  color: var(--gray);
}

.etcdinspector table {
  width: 100%;
  border-collapse: collapse;
}

.etcdinspector table tr td {
  margin: 0px;
  padding: 4px 6px;
  border-bottom: 1px solid var(--light-gray);
}

.etcdinspector table tr:last-child td {
  border-bottom: none;
}

.etcdinspector table tr td:first-child {
  font-weight: bold;
}

.etcdinspector table tr td:last-child {
  font-family: monospace;
}

.etcdtree stamp-button[type='check'] {
  fill: var(--gray);
}

.etcdtree stamp-button[type='check']:hover {
  fill: black;
}

@media only screen and (max-width: 700px) {

  .etcdnav {
    flex-flow: column-reverse nowrap;
  }
  
  .etcdnav > *:first-child {
    margin-right: 0;
    margin-top: 16px;
  }

}

</style>

<h1>Etcd</h1>

<div class='etcdnav'>

  <synced-tree class='border etcdtree' src='etcd/**' eventtype='ETCD.NODE'>

    <div class='screen' name='loading'>
      <stamp-icon type='loading'>
    </div>

    <div class='screen' name='main'>
        <div class='body'>

          <template class='normalrow'>
            <div class='row selectable'>

              <div>
                <div class='rowgroup'>
                  <div class='rowcell'><stamp-switch class='foldswitch' type='triangle'></stamp-switch></div>
                  <div class='rowcell'><slot name='name'></slot></div>
                  <div class='rowcell'><stamp-icon class='small' type='ghost'></stamp-icon></div>
                  <div class='rowcell'><stamp-button class='newbutton small' type='plus'></stamp-icon></div>
                </div>
              </div>

              <div class='children'>
              </div>

            </div>
          </template>

          <template class='creationrow'>

            <div class='row'>

              <div>
                <div class='rowgroup'>
                  <div class='rowcell'><stamp-switch class='foldswitch' type='triangle'></stamp-switch></div>
                  <div class='rowcell' contenteditable></div>
                </div>
              </div>

            </div>

          </template>

        </div>
      </div>

  </synced-tree>

  <synced-element class='etcdinspector border' screen='empty' eventtype='ETCD.NODE'>

    <div class='screen' name='empty'>
      Please select a node.
    </div>

    <div class='screen' name='main'>
      <table>
        <tr>
          <td>Name</td>
          <td><slot name='name'></slot>
        </tr>
        <tr>
          <td>Key</td>
          <td><slot name='key'></slot>
        </tr>
        <tr>
          <td>Value</td>
          <td><slot name='value'></slot>
        </tr>
      </table>
    </div>

  </synced-element>

</div>
