{
  "version": 3,
  "file": "panel.js",
  "sourceRoot": "",
  "sources": [
    "panel.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {Subscriber, fetch_html} from './communication.js'\n\nFunction::property = (prop, desc) ->\n  Object.defineProperty @prototype, prop, desc\n\n\nclass Panel extends Subscriber\n\n  constructor: (@name, @title) ->\n    super()\n\n    # set default class\n    @classList.add('panel')\n\n    # loading mode by default\n    @setAttribute('loading', '')\n\n  connectedCallback: () =>\n\n    # create header, loading screen and content screen\n    header = document.querySelector('#template-panel-header')\n    header = header.content.cloneNode(true)\n    header.querySelector('header > h1').textContent = @title\n    header.querySelector('header > svg').onclick = @toggleFold\n    @innerHTML = ''\n    @appendChild(header)\n    \n\n  fetch_html: (url) =>\n    # fetch html\n    url = 'ressources/widgets/' + @name + '/' + @name + '.html'\n    fetch_html(url, slow=true).then(@htmlLoadedCallback)\n\n\n  # listen to the following attributes\n  @property 'observedAttributes',\n    get: -> ['folded']\n\n  # callback if specified attributes are modified\n  attributeChangedCallback: (name, old_value, new_value) ->\n    console.log(name, ' - ', old_value, ' - ', new_value)\n\n  # callback once the html document is loaded\n  htmlLoadedCallback: (html) =>\n    content = html.querySelector('template').content.cloneNode(true)\n    @querySelector('.content').attachShadow({mode: 'open'}).appendChild(content)\n    @removeAttribute('loading')\n\n  toggleFold: () =>\n    if @hasAttribute('folded')\n      @unfold()\n    else\n      @fold()\n\n  fold: () =>\n    @setAttribute('folded', '')\n\n  unfold: () =>\n    @removeAttribute('folded')\n\n\nexport class Widget extends Panel\n\n  constructor: (name, title) ->\n    super(name, title)\n\n\nclass Dashboard extends HTMLElement\n\n  constructor: () ->\n    super()\n\n\n"
  ]
}